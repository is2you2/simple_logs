<ion-menu contentId="menu-content" menuId="menu-content" side="start" type="overlay">
  <ion-header>
    <ion-toolbar color="primary">
      <ion-title>간단한 기록앱</ion-title>
    </ion-toolbar>
  </ion-header>
  <ion-content>
    <ion-item-divider>
      <ion-label>필터</ion-label>
    </ion-item-divider>
    <ion-accordion-group>
      <ion-accordion toggleIcon="">
        <ion-item slot="header">
          <ion-icon slot="start" name="search-outline"></ion-icon>
          <ion-label>검색어</ion-label>
        </ion-item>
        <div slot="content">
          <ion-item>
            <ion-input [(ngModel)]="SearchKeyword" placeholder="검색어 입력.."></ion-input>
            <ion-icon slot="end" name="search-circle-outline" (click)="filter_with_text()"></ion-icon>
          </ion-item>
        </div>
      </ion-accordion>
      <ion-accordion toggleIcon="">
        <ion-item slot="header">
          <ion-icon slot="start" name="calendar-outline"></ion-icon>
          <ion-label>날짜 탐색</ion-label>
        </ion-item>
        <div slot="content">
          <ion-datetime [locale]="lang.lang" presentation="date" [highlightedDates]="AllFileList"></ion-datetime>
        </div>
      </ion-accordion>
    </ion-accordion-group>
    <ion-item-divider>
      <ion-label>제작자</ion-label>
    </ion-item-divider>
    <ion-item button (click)="go_to_creator_home()">
      <ion-avatar slot="start">
        <img src="assets/icon/favicon.png" />
      </ion-avatar>
      <ion-label>
        <div>Project: Cone</div>
        <div style="color: #888;">최성수</div>
      </ion-label>
    </ion-item>
  </ion-content>
</ion-menu>

<div id="menu-content" class="ion-page">
  <ion-header [translucent]="true">
    <ion-toolbar color="tertiary">
      <ion-buttons slot="start">
        <ion-menu-button> </ion-menu-button>
      </ion-buttons>
      <ion-title>
        나의 기록
      </ion-title>
    </ion-toolbar>
  </ion-header>

  <ion-content [fullscreen]="true" class="ion-padding">
    <ion-button color="tertiary" expand="block" fill="clear" shape="round" (click)="create_new()">
      눌러서 새 기록 작성
    </ion-button>
    <div *ngIf="isCreateNew">
      <ion-card>
        <ion-button expand="block" fill="clear" (click)="ActiveInputSelector()">
          이미지 추가
        </ion-button>
        <input id="imageInput" type="file" accept="image/*" (change)="inputImageSelected($event)" hidden>
        <img *ngIf="userInput.url" [src]="userInput.url" />
        <ion-card-header>
          <ion-card-subtitle>
            <input type="text" class="new_card_input" [(ngModel)]="CardTargetDate">
          </ion-card-subtitle>
          <ion-card-title>
            <input id="newTitle" type="text" class="new_card_input" placeholder="New Title"
              [(ngModel)]="userInput.title">
          </ion-card-title>
        </ion-card-header>
        <ion-card-content>
          <input type="text" class="new_card_input" placeholder="New Content" [(ngModel)]="userInput.content">
          <ion-button expand="block" fill="clear" (click)="save()">
            작성하기
          </ion-button>
        </ion-card-content>
      </ion-card>
    </div>
    <div *ngFor="let i of ListSize">
      <ion-card (click)="SelectedIndex = i">
        <img *ngIf="FilteredList[i].url" [src]="FilteredList[i].url" />
        <ion-card-header>
          <ion-card-subtitle>{{FilteredList[i].date}}</ion-card-subtitle>
          <ion-card-title>{{FilteredList[i].title}}</ion-card-title>
        </ion-card-header>
        <ion-card-content>
          {{FilteredList[i].content}}
        </ion-card-content>
        <ion-grid *ngIf="i == SelectedIndex">
          <ion-row>
            <ion-col>
              <ion-button expand="block" fill="clear">
                수정
              </ion-button>
            </ion-col>
            <ion-col>
              <ion-button expand="block" fill="clear">
                삭제
              </ion-button>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-card>
    </div>
  </ion-content>
</div>